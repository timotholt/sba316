// Level 1-10
// Ragged Humanoid Squad:
// Min Level: 1
// Max Level: 10
// Monsters:
// Ragged Humanoid (hp: 1d4 + 1, attacks: [{ name: "Rusty Sword", damage: "1d4 + 1" }, { name: "Shield Bash", damage: "1d6" }])
// Vermin Squad:
// Min Level: 1
// Max Level: 10
// Monsters:
// Rat (hp: 1d4 + 1, attacks: [{ name: "Bite", damage: "1d2 + 1" }])
// Cat (hp: 1d6, attacks: [{ name: "Claws", damage: "1d3 + 1" }])
// Dog (hp: 1d8 + 1, attacks: [{ name: "Bite", damage: "1d4 + 1" }])
// Goblin Squad:
// Min Level: 1
// Max Level: 15
// Monsters:
// Goblin (hp: 2d6 + 2, attacks: [{ name: "Dagger", damage: "1d4 + 1" }, { name: "Shortbow", damage: "1d6 + 1" }])
// Level 11-20
// Hobgoblin Squad:
// Min Level: 11
// Max Level: 20
// Monsters:
// Hobgoblin (hp: 3d6 + 3, attacks: [{ name: "Greataxe", damage: "1d12 + 1" }, { name: "Shield Bash", damage: "1d6" }])
// Orc Squad:
// Min Level: 11
// Max Level: 20
// Monsters:
// Orc (hp: 3d8 + 3, attacks: [{ name: "Club", damage: "1d8 + 1" }, { name: "Throw Axe", damage: "1d6 + 1" }])
// Giant Spider Squad:
// Min Level: 11
// Max Level: 20
// Monsters:
// Giant Spider (hp: 2d8 + 2, attacks: [{ name: "Bite", damage: "1d6 + 1" }, { name: "Web", damage: "1d4" }])
// Level 21-30
// Troll Squad:
// Min Level: 21
// Max Level: 30
// Monsters:
// Troll (hp: 1000, attacks: [{ name: "Claws", damage: "2d6 + 2" }, { name: "Club", damage: "1d8 + 2" }])
// Minotaur Squad:
// Min Level: 21
// Max Level: 30
// Monsters:
// Minotaur (hp: 4d8 + 4, attacks: [{ name: "Mace", damage: "1d8 + 2" }, { name: "Charge", damage: "1d10 + 2" }])
// Basilisk Squad:
// Min Level: 21
// Max Level: 30
// Monsters:
// Basilisk (hp: 3d10 + 3, attacks: [{ name: "Petrifying Gaze", damage: "Instant Petrification" }, { name: "Bite", damage: "1d8 + 2" }])
// Level 31-40
// Gorgon Squad:
// Min Level: 31
// Max Level: 40
// Monsters:
// Gorgon (hp: 4d10 + 4, attacks: [{ name: "Petrifying Gaze", damage: "Instant Petrification" }, { name: "Claws", damage: "2d6 + 2" }])
// Centaur Squad:
// Min Level: 31
// Max Level: 40
// Monsters:
// Centaur (hp: 3d8 + 3, attacks: [{ name: "Longbow", damage: "1d8 + 2" }, { name: "Spear", damage: "1d6 + 2" }])
// Cyclops Squad:
// Min Level: 31
// Max Level: 40
// Monsters:
// Cyclops (hp: 5d10 + 5, attacks: [{ name: "Club", damage: "2d8 + 2" }, { name: "Boulder Throw", damage: "2d10 + 2" }])
// Level 41-50
// Hydra Squad:
// Min Level: 41
// Max Level: 50
// Monsters:
// Hydra (hp: 8d8 + 8, attacks: [{ name: "Bite", damage: "2d6 + 2" }, { name: "Bite", damage: "2d6 + 2" }, { name: "Bite", damage: "2d6 + 2" }])
// Harpy Squad:
// Min Level: 41
// Max Level: 50
// Harpy (hp: 2d10 + 2, attacks: [{ name: "Screech", damage: "1d6 + 1" }, { name: "Claws", damage: "1d4 + 1" }])
// Beholder Squad:
// Min Level: 41
// Max Level: 50
// Beholder (hp: 12d8 + 48, attacks: [{ name: "Antimagic Cone", damage: "Antimagic Effect" }, { name: "Eye Ray", damage: "3d6 + 3" }, { name: "Claw", damage: "1d6 + 1" }])
// Level 51-60
// Dragonborn Squad:
// Min Level: 51
// Max Level: 60
// Monsters:
// Dragonborn (hp: 5d8 + 25, attacks: [{ name: "Greatsword", damage: "1d12 + 2" }, { name: "Fire Breath", damage: "3d6 + 3" }])
// Golem Squad:
// Min Level: 51
// Max Level: 60
// Golem (hp: 8d10 + 40, attacks: [{ name: "Slam", damage: "2d10 + 2" }, { name: "Fist", damage: "1d10 + 2" }])
// Manticore Squad:
// Min Level: 51
// Max Level: 60
// Manticore (hp: 6d8 + 18, attacks: [{ name: "Tail Swipe", damage: "1d10 + 2" }, { name: "Spikes", damage: "1d6 + 1" }])
// Level 61-70
// Demigod Squad:
// Min Level: 61
// Max Level: 70
// Monsters:
// Demigod (hp: 10d10 + 50, attacks: [{ name: "Divine Smite", damage: "2d10 + 5" }, { name: "Holy Sword", damage: "1d12 + 2" }])
// Devil Squad:
// Min Level: 61
// Max Level: 70
// Monsters:
// Devil (hp: 8d10 + 40, attacks: [{ name: "Infernal Claws", damage: "2d6 + 2" }, { name: "Hellfire Blast", damage: "3d6 + 3" }])
// Chimera Squad:
// Min Level: 61
// Max Level: 70
// Chimera (hp: 10d8 + 50, attacks: [{ name: "Fire Breath", damage: "3d6 + 3" }, { name: "Lion Bite", damage: "2d6 + 2" }, { name: "Serpent Bite", damage: "1d8 + 2" }])
// Level 71-80
// Lesser God Squad:
// Min Level: 71
// Max Level: 80
// Monsters:
// Lesser God (hp: 15d10 + 75, attacks: [{ name: "Divine Wrath", damage: "3d10 + 5" }, { name: "Holy Light", damage: "4d6 + 4" }])

const itemTable = [
    { name: "dagger",
        actions: [
            { range: 1, chance: 70, name: "swings", damage: "1d4", requires: { body: "hand", strength: 4 }},
            { range: 1, chance: 30, name: "stabs", damage: "1d4+1", requires: { body: "hand", strength: 4 }}],
        abilities: [ 
            { range: 1, chance: 30, name: "parries", negates: "1d4+1", requires: { body: "hand", strength: 4 }}],
    },
    { name: "short sword",
        actions: [
            { range: 1, chance: 70, name: "swings", damage: "1d6", requires: { body: "hand", strength: 6 }},
            { range: 1, chance: 30, name: "stabs", damage: "1d6+1", requires: { body: "hand", strength: 6 }}], 
        abilities: [ 
            { range: 1, chance: 50, name: "parries", negates: "1d6+2", requires: { body: "hand", strength: 6 }}],
    },
    { name: "long sword",
        actions: [
            { range: 1, chance: 70, name: "swings", damage: "1d8", requires: { body: "hand", strength: 8 } },
            { range: 1, chance: 30, name: "stabs", damage: "1d8+2", requires: { body: "hand", strength: 8 }}],
        abilities: [
            { range: 1, chance: 50, name: "parries", negates: "1d8+2", requires: { body: "hand", strength: 8 }}],
    },
    { name: "short bow",
        actions: [
            { range: 1, chance: 100, name: "swings", damage: "1d2-1", requires: { body: "two-hands", strength: 3 }},
            { range: 100, chance: 100, name: "shoots arrow", damage: "1d6", requires: { body: "two-hands", strength: 6, ammo: "arrows" }}],
    },
    { name: "long bow",
        actions: [
            { range: 1, chance: 100, name: "swings", damage: "1d2", requires: { body: "two-hands", strength: 3 }},
            { range: 100, chance: 100, name: "shoots arrow", damage: "1d8", requires: { body: "two-hands", strength: 8, ammo: "arrows" }}],
    },
];

const factionEncounterTable = [

    // Faction: Humans
    {
        faction: "humans",

        // Level 1-5 squad
        0: {
            name: "Ragged Humanoid Squad",
            minLevel: 1,
            maxLevel: 5,

            members: [
                { name: "Ragged Humanoid", hp: "1d4 + 1",
                    morale: 0,
                    base: 1,                                    // Number in the squad
                    incPerLevel: 0.5,                           // Addional unit added per level (rounded up)
                    ability: [
                        { chance: 10, name: "Run" },
                        { chance: 10, name: "Drop" },
                        { chance: 10, name: "pickup" },
                    ],
                    mainweapon: [
                        { chance: 60, name: "rusty sword" },
                        { chance: 30, name: "short Sword" }],
                    offweapon: [
                        { chance: 30, name: "Rusty Shield",
                            attacks: [
                                { range: 1, chance: 15, name: "Shield Bash", attackDamage: "1d2", specialDamage: "stun" }],
                        }
                    ],
                    armor: [
                        { chance: 20, name: "Ragged Cloak", ac: "1" },
                    ],
                    loot: [
                        { chance: 10, name: "Leather Pouch" }
                    ]
                }
            ]
        },

        // Level 6-10 squad
        1:
        {
            name: "Soldier Squad",
            minLevel: 6,
            maxLevel: 10,

            members: [
                { name: "Soldier", hp: "1d8 + 3",
                    attacks: [
                        { chance: 70, name: "Steel Sword", attackDamage: "1d8" },
                        { chance: 30, name: "Shield Bash", attackDamage: "1d6", specialDamage: "stun" }],
                    loot: [
                        { chance: 60, name: "Chainmail Armor" },
                        { chance: 30, name: "Steel Sword" },
                        { chance: 20, name: "Leather Shield" },
                        { chance: 10, name: "Healer's Kit" }]
                }
            ]
        },

        // Level 11-15
        2: {
            name: "Mercenary Squad",
            minLevel: 11,
            maxLevel: 15,

            members: [
                { name: "Mercenary Captain", hp: "5d8 + 5",
                    attacks: [
                        { chance: 70, name: "Greatsword", attackDamage: "1d10 + 2" },
                        { chance: 30, name: "Shield Bash", attackDamage: "1d6", specialDamage: "stun" }],
                    loot: [
                        { chance: 60, name: "Plate Armor" }, 
                        { chance: 30, name: "Greatsword"},
                        { chance: 20, name: "Tower Shield" },
                        { chance: 10, name: "Potion of Healing" },
                        { chance: 10, name: "Scroll of Protection" }]
                },
                { name: "Mercenary Archer", hp: "3d6 + 3",
                    attacks: [
                        { chance: 70, name: "Longbow", attackDamage: "1d8 + 2" },
                        { chance: 30, name: "Dagger", attackDamage: "1d4 + 1" }],
                    loot: [
                        { chance: 60, name: "Leather Armor" },
                        { chance: 40, name: "Longbow" },
                        { chance: 40, name: "Quiver of Arrows" },
                        { chance: 10, name: "Potion of Healing" }]
                }
            ]
        },

        3: {
            name: "Veteran Squad",
            minLevel: 16,
            maxLevel: 20,

            members: [
                { name: "Veteran Swordsman", hp: "6d8 + 6",
                    attacks: [
                        { chance: xx, name: "Masterwork Sword", attackDamage: "1d10 + 3" },
                        { chance: xx, name: "Shield Bash", attackDamage: "1d6" }],
                    loot: [
                        { chance: xx, name: "Masterwork Sword" },
                        { chance: xx, name: "Enchanted Plate Armor" },
                        { chance: xx, name: "Shield of Protection" },
                        { chance: xx, name: "Scroll of Resurrection"}]
                },
                { name: "Veteran Archer", hp: "4d6 + 4",
                    attacks: [
                        { chance: xx, name: "Masterwork Longbow", attackDamage: "1d10 + 3" },
                        { chance: xx, name: "Throwing Dagger", attackDamage: "1d4 + 1" }],
                    loot: [
                        { chance: xx, name: "Masterwork Longbow" },
                        { chance: xx, name: "Enchanted Leather Armor" },
                        { chance: xx, name: "Quiver of Magic Arrows" },
                        { chance: xx, name: "Scroll of Haste" }]
                }
            ]
        }
    }
];


